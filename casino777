from random import shuffle
import sys
import time
import random


item_list = ['🍌', '🍎', '🥥'],['🍌', '🍎', '🥥'], ['🍌', '🍎', '🥥']
rol_values = [5, 10 ,25, 50, 100]
cards = ['📕', '📓', '📕', '📓', '📕', '📓', '📕', '📓']

def game():
    rerol = 'y'
    def shuffle_list(mylist):
        shuffle(mylist[0])
        shuffle(mylist[1])
        shuffle(mylist[2])
        return mylist

    def shuffle_rb(rb):
        num_list = [0,1,2,3,4,5,6,7]
        num_list = random.choice(num_list)
        shuffle(rb)
        return rb[num_list]
    
    def red_black(some):
        dic = {'r' : '📕', 'b': '📓'}
        if game_cash <= 0:
            break
        else:
            yes_no = input('do you wanna duble your game points? (y / n): ')
            while yes_no != 'y' or yes_no != 'n':
                print('wrong answer')
                yes_no = input('do you wanna duble your game points? (y / n): ')
            if yes_no == 'y':
                yes = inpu('to duble your game points, choose red or black card (r / b): ')
                while yes != 'r' or yes != 'b':
                    print('wrong answer')
                    yes = inpu('to duble your game points, choose red or black card (r / b): ')
                shuffle_rb(cards)
                if rb == dic[yes]:
                    game_cash  = game_cash * 2
            else:
                
            

    
#game start
    print('  Welcome to the "Edwin ruletka" ', item_list[0], item_list[1], item_list[2], sep='\n')
    start = input('      start? (y / n): ')
    while start != 'y':
        print('wrong answer')
        start = input('      start? (y / n): ')
    
#Cash putting
    cash = input('      Put in money: ')
    while cash.isdigit() == False or int(cash) < 50:
        if cash.isdigit() == False:
            print('This is not cash!')
            cash = input('      Put in money: ')
        elif int(cash) < 50:
            print('To less!')
            cash = input('      Put in money: ')           
    game_cash = int(cash) * 0.1
    print('you have ()', int(game_cash), ') game points in your game balance!')
    print('Game point per rol:  5  |  10  |  25 | 50 | 100 ')
    point_rol = input()
    while point_rol.isdigit() == False or int(point_rol) not in rol_values:
        if point_rol.isdigit() == False:
            print('This is not game points!')
            point_rol = input('      choose game points for roll: ')
        elif point_rol not in rol_values:
            print('Wrong number!')
            point_rol = input('      choose game points for roll: ')
    point_rol = int(point_rol)
    game_cash = game_cash - point_rol
    
#game_logica
    while rerol == 'y':
        for i in range(1, 20):
            sys.stderr.write(f"{shuffle_list(item_list)}\r")
            time.sleep(.20)
        if item_list[0] == item_list[1] == item_list[2]:
            game_cash = game_cash + (point_rol * 100)
            red_black(game_cash)
        else: 
            if item_list[0][0] == item_list[1][0] == item_list[2][0]:
                game_cash = game_cash + (point_rol * 5)
                red_black(game_cash)
            elif item_list[0][1] == item_list[1][1] == item_list[2][1]:
                game_cash = game_cash + (point_rol * 5)
                red_black(game_cash)
            elif item_list[0][2] == item_list[1][2] == item_list[2][2]:
                game_cash = game_cash + (point_rol * 5) 
                red_black(game_cash)
        if game_cash - int(point_rol) < 0:
            print('you are looser')
            break
        print('Your balance: ', game_cash)
        rerol = input('rerol? (y / n): ')
        if rerol == 'y':
            game_cash = game_cash - point_rol
        elif rerol == 'n':
            break
    print('Your balance: ', game_cash)
    
    

game()
